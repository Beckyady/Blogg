{"ast":null,"code":"var _jsxFileName = \"/home/becky/Documents/Official Files/Blog/blogCli/src/components/ShowPost/Show.js\";\nimport React from 'react';\nimport '../../assets/Styles/Styles.css';\nimport axios from 'axios';\nimport env from \"../../env\";\nimport bloglogo from '../../assets/Images/bloglogo.png';\nimport toastr from 'toastr';\nimport Footer from '../Footer/Footer';\nexport default class ShowPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      title: '',\n      image_url: '',\n      body: '',\n      author: '',\n      like: '',\n      error: null\n    };\n    this.handleLike = this.handleLike.bind(this);\n  }\n\n  async handleLike(event) {\n    const like = this.state.like;\n    let likepost = like;\n    event.preventDefault();\n    const token = localStorage.getItem('token');\n    const headers = {\n      'auth-token': token\n    };\n\n    if (!token) {\n      toastr.warning('You have to Login to like a post');\n    } else {\n      const response = await axios.post(\"\".concat(env.api, \"/posts/\").concat(this.props.match.params.post_id, \"/like\"), likepost, {\n        headers: headers\n      });\n\n      try {\n        this.setState({\n          like: response\n        });\n      } catch (error) {\n        this.setState({\n          error\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    const getbyid = await axios.get(\"\".concat(env.api, \"/posts/\").concat(this.props.match.params.post_id)); // console.log(getbyid.data.data);\n\n    try {\n      this.setState({\n        title: getbyid.data.data.title,\n        image_url: getbyid.data.data.image_url,\n        body: getbyid.data.data.body,\n        loading: false\n      });\n    } catch (error) {\n      this.setState({\n        error,\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          loading = _this$state.loading,\n          title = _this$state.title,\n          image_url = _this$state.image_url,\n          body = _this$state.body;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: bloglogo,\n      className: \"bloglogo\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#navbarNavAltMarkup\",\n      \"aria-controls\": \"navbarNavAltMarkup\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"collapse navbar-collapse alignnav\",\n      id: \"navbarNavAltMarkup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-nav \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Home\")))), React.createElement(\"a\", {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Cancel\"))))), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"showposttitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" \", React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, title), \" \"), React.createElement(\"div\", {\n      className: \"showpostimg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \" \", React.createElement(\"img\", {\n      src: image_url,\n      className: \"xlimg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"showpostbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, body)), React.createElement(\"div\", {\n      className: \"likeicon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-fw fa-thumbs-up \",\n      \"area-hidden\": \"true\",\n      onClick: this.handleLike,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/becky/Documents/Official Files/Blog/blogCli/src/components/ShowPost/Show.js"],"names":["React","axios","env","bloglogo","toastr","Footer","ShowPost","Component","constructor","props","state","loading","title","image_url","body","author","like","error","handleLike","bind","event","likepost","preventDefault","token","localStorage","getItem","headers","warning","response","post","api","match","params","post_id","setState","componentDidMount","getbyid","get","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../assets/Styles/Styles.css';\nimport axios from 'axios';\nimport env from \"../../env\";\nimport bloglogo from '../../assets/Images/bloglogo.png';\nimport toastr from 'toastr';\nimport Footer from '../Footer/Footer';\n\nexport default class ShowPost extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            title: '',\n            image_url: '',\n            body: '',\n            author: '',\n            like: '',\n            error: null\n        }\n\n        this.handleLike = this.handleLike.bind(this)\n    }\n  async handleLike(event) {\n        const {like} = this.state\n        let likepost = like\n        event.preventDefault()\n        const token = localStorage.getItem('token');\n                const headers = {\n                    'auth-token': token\n                };\n                if(!token){\n                    toastr.warning('You have to Login to like a post')\n                }\n                else{\n        const response =await axios.post(`${env.api}/posts/${this.props.match.params.post_id}/like`,likepost,{ headers: headers })\n\n        try{\n            \n            this.setState({\n                like: response\n            })\n\n        }catch(error){\n            this.setState({error})\n        }\n\n    }\n       \n    }\n    async componentDidMount() {\n\n        const getbyid = await axios.get(`${env.api}/posts/${this.props.match.params.post_id}`)\n        // console.log(getbyid.data.data);\n\n        try {\n\n            this.setState({\n                title: getbyid.data.data.title,\n                image_url: getbyid.data.data.image_url,\n                body: getbyid.data.data.body,\n                loading: false\n\n            })\n        } catch (error) { this.setState({ error, loading: false }) }\n    }\n\n    render() {\n        const { loading, title, image_url, body, } = this.state;\n        return (\n            <div>\n                <React.Fragment>\n                    <div className='navbar-wrapper'>\n                        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                            <a className=\"navbar-brand\" href=\"/\"><img src={bloglogo} className='bloglogo' alt='' /></a>\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                                <span className=\"navbar-toggler-icon\"></span>\n                            </button>\n                            <div className=\"collapse navbar-collapse alignnav\" id=\"navbarNavAltMarkup\">\n                                <div className=\"navbar-nav \">\n                                    <a href='/'><button type=\"button\" className=\"btn btn-dark\" >Home</button></a>\n                                </div>\n                            </div>\n\n                            <a href='/'><div><button type=\"button\" className=\"btn btn-dark\" >Cancel</button></div></a>\n                        </nav>\n\n                    </div>\n                    <div className='container'>\n                        <div className='row'>\n                            <div className='col-sm-10'>\n                                <div className='showposttitle'> <h1>{title}</h1> </div>\n                                <div className='showpostimg'> <img src={image_url} className='xlimg' /></div>\n                                <div className='showpostbody'><p>{body}</p></div>\n                                <div className='likeicon'><i className=\"fa fa-fw fa-thumbs-up \" area-hidden='true' onClick={this.handleLike}></i></div>\n                            </div>\n                            <div className='col-sm-2'></div>\n                        </div>\n                    </div>\n\n                </React.Fragment>\n                <Footer />\n            </div>\n\n\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}