{"ast":null,"code":"var _jsxFileName = \"/home/becky/Documents/Official Files/Blog/blogCli/src/components/ShowPost/Show.js\";\nimport React from 'react';\nimport '../../assets/Styles/Styles.css';\nimport axios from 'axios';\nimport env from \"../../env\";\nimport { MDBContainer, MDBCol, MDBRow } from \"mdbreact\";\nimport Navbar from '../navbar/Navbar';\nimport toastr from 'toastr';\nimport Footer from '../Footer/Footer';\nexport default class ShowPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      title: '',\n      image_url: '',\n      body: '',\n      author: '',\n      like: '',\n      error: null\n    };\n    this.handleLike = this.handleLike.bind(this);\n  }\n\n  async handleLike(event) {\n    const like = this.state.like;\n    let likepost = like;\n    event.preventDefault();\n    const token = localStorage.getItem('token');\n    const headers = {\n      'auth-token': token\n    };\n\n    if (!token) {\n      toastr.warning('You have to Login to like a post');\n    } else {\n      const response = await axios.post(\"\".concat(env.api, \"/posts/\").concat(this.props.match.params.post_id, \"/like\"), likepost, {\n        headers: headers\n      });\n\n      try {\n        this.setState({\n          like: response\n        });\n      } catch (error) {\n        this.setState({\n          error\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    const getbyid = await axios.get(\"\".concat(env.api, \"/posts/\").concat(this.props.match.params.post_id)); // console.log(getbyid.data.data);\n\n    try {\n      this.setState({\n        title: getbyid.data.data.title,\n        image_url: getbyid.data.data.image_url,\n        body: getbyid.data.data.body,\n        loading: false\n      });\n    } catch (error) {\n      this.setState({\n        error,\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          loading = _this$state.loading,\n          title = _this$state.title,\n          image_url = _this$state.image_url,\n          body = _this$state.body;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      size: \"12\",\n      sm: \"6\",\n      lg: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"  \", React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }))), React.createElement(MDBContainer, {\n      className: \"showpostcontainer b\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"showposttitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \" \", React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, title), \" \"), React.createElement(\"div\", {\n      className: \"showpostimg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \" \", React.createElement(\"img\", {\n      src: image_url,\n      className: \"img-fluid xlimg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"showpostbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, body)), React.createElement(\"div\", {\n      className: \"likeicon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-fw fa-thumbs-up \",\n      \"area-hidden\": \"true\",\n      onClick: this.handleLike,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/becky/Documents/Official Files/Blog/blogCli/src/components/ShowPost/Show.js"],"names":["React","axios","env","MDBContainer","MDBCol","MDBRow","Navbar","toastr","Footer","ShowPost","Component","constructor","props","state","loading","title","image_url","body","author","like","error","handleLike","bind","event","likepost","preventDefault","token","localStorage","getItem","headers","warning","response","post","api","match","params","post_id","setState","componentDidMount","getbyid","get","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../assets/Styles/Styles.css';\nimport axios from 'axios';\nimport env from \"../../env\";\nimport { MDBContainer,MDBCol,MDBRow } from \"mdbreact\";\nimport Navbar from '../navbar/Navbar';\nimport toastr from 'toastr';\nimport Footer from '../Footer/Footer';\n\nexport default class ShowPost extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            title: '',\n            image_url: '',\n            body: '',\n            author: '',\n            like: '',\n            error: null\n        }\n\n        this.handleLike = this.handleLike.bind(this)\n    }\n  async handleLike(event) {\n        const {like} = this.state\n        let likepost = like\n        event.preventDefault()\n        const token = localStorage.getItem('token');\n                const headers = {\n                    'auth-token': token\n                };\n                if(!token){\n                    toastr.warning('You have to Login to like a post')\n                }\n                else{\n        const response =await axios.post(`${env.api}/posts/${this.props.match.params.post_id}/like`,likepost,{ headers: headers })\n\n        try{\n            \n            this.setState({\n                like: response\n            })\n\n        }catch(error){\n            this.setState({error})\n        }\n\n    }\n       \n    }\n    async componentDidMount() {\n\n        const getbyid = await axios.get(`${env.api}/posts/${this.props.match.params.post_id}`)\n        // console.log(getbyid.data.data);\n\n        try {\n\n            this.setState({\n                title: getbyid.data.data.title,\n                image_url: getbyid.data.data.image_url,\n                body: getbyid.data.data.body,\n                loading: false\n\n            })\n        } catch (error) { this.setState({ error, loading: false }) }\n    }\n\n    render() {\n        const { loading, title, image_url, body, } = this.state;\n        return (\n            <div>\n                <React.Fragment>\n                <MDBRow><MDBCol size=\"12\" sm=\"6\" lg=\"12\">  <Navbar /></MDBCol></MDBRow>       \n                <MDBContainer className=\"showpostcontainer b\">\n                <div className='row'>\n                            <div className='col-sm-10'>\n                                <div className='showposttitle'> <h1>{title}</h1> </div>\n                                <div className='showpostimg'> <img src={image_url} className='img-fluid xlimg' /></div>\n                                <div className='showpostbody'><p>{body}</p></div>\n                                <div className='likeicon'><i className=\"fa fa-fw fa-thumbs-up \" area-hidden='true' onClick={this.handleLike}></i></div>\n                            </div>\n                            <div className='col-sm-2'></div>\n                        </div>\n                </MDBContainer>\n\n                </React.Fragment>\n                <Footer />\n            </div>\n\n\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}