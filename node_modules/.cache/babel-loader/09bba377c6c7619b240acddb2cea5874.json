{"ast":null,"code":"var _jsxFileName = \"/home/becky/Documents/Official Files/Blog/blogCli/src/components/body/homeBody.js\";\nimport React from 'react';\nimport '../../assets/Styles/Styles.css';\nimport axios from 'axios';\nimport env from \"../../env\";\nimport { Link } from 'react-router-dom';\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBMask, MDBIcon, MDBView, MDBBtn } from \"mdbreact\";\nimport ReadMoreReact from 'read-more-react';\n\nclass HomeBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      posts: [],\n      error: null\n    };\n  }\n\n  async getPosts() {\n    const response = await axios.get(\"\".concat(env.api, \"/posts\"));\n\n    try {\n      this.setState({\n        posts: response.data.data,\n        loading: false\n      });\n    } catch (error) {\n      this.setState({\n        error,\n        loading: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  render() {\n    const _this$state = this.state,\n          loading = _this$state.loading,\n          posts = _this$state.posts; // let small = posts.splice(0, 3)\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      className: \"hr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"my-5 px-5 pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      className: \" \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"h1-responsive font-weight-bold  text-center my-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Recent posts\"), !loading ? this.state.posts.map(post => {\n      const image_url = post.image_url,\n            author = post.author,\n            title = post.title,\n            body = post.body,\n            _id = post._id;\n      return React.createElement(MDBRow, {\n        key: _id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        lg: \"5\",\n        xl: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/posts/\" + _id,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-fluid\",\n        src: image_url,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }))), React.createElement(MDBCol, {\n        lg: \"7\",\n        xl: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"font-weight-bold mb-3 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, title)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"by \", React.createElement(\"a\", {\n        href: \"#!\",\n        className: \"font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Jessica Clark\")), React.createElement(Link, {\n        to: \"/posts/\" + _id,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        color: \"primary\",\n        size: \"md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Read Post\")), React.createElement(\"hr\", {\n        className: \"my-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })));\n    }) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Loading\")))));\n  }\n\n}\n\nexport default HomeBody;","map":{"version":3,"sources":["/home/becky/Documents/Official Files/Blog/blogCli/src/components/body/homeBody.js"],"names":["React","axios","env","Link","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBMask","MDBIcon","MDBView","MDBBtn","ReadMoreReact","HomeBody","Component","constructor","props","state","loading","posts","error","getPosts","response","get","api","setState","data","componentDidMount","render","map","post","image_url","author","title","body","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../assets/Styles/Styles.css';\nimport axios from 'axios';\nimport env from \"../../env\";\nimport { Link } from 'react-router-dom';\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBMask, MDBIcon, MDBView, MDBBtn } from \"mdbreact\";\nimport ReadMoreReact from 'read-more-react';\n\n\n\nclass HomeBody extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            posts: [],\n            error: null,\n        }\n    }\n\n    async getPosts() {\n\n        const response = await axios.get(`${env.api}/posts`)\n        try {\n\n            this.setState({\n                posts: response.data.data,\n                loading: false,\n\n            })\n\n        }\n\n\n        catch (error) { this.setState({ error, loading: false }) }\n    }\n\n    componentDidMount() {\n        this.getPosts();\n    }\n\n\n\n    render() {\n        const { loading, posts } = this.state;\n        // let small = posts.splice(0, 3)\n        return (\n            <div>\n                <hr className='hr' />\n\n                <React.Fragment>\n\n                    <MDBCard className=\"my-5 px-5 pb-5\">\n                        <MDBCardBody className=\" \">\n                            <h2 className=\"h1-responsive font-weight-bold  text-center my-5\">\n                                Recent posts\n                                    </h2>\n                            {!loading ? (this.state.posts.map(post => {\n\n                                const { image_url, author, title, body, _id } = post;\n                                return (\n                                    <MDBRow key={_id}>\n                                        <MDBCol lg=\"5\" xl=\"4\">\n                                        <a href={\"/posts/\" + _id} target='_blank'>  \n                                        <img\n                                                     className=\"img-fluid\"\n                                                     src={image_url} alt=\"\"\n                                                 /> \n                                                 </a>\n                                           \n                                        </MDBCol>\n                                        <MDBCol lg=\"7\" xl=\"8\">\n                                            <h3 className=\"font-weight-bold mb-3 p-0\">\n                                                <strong>{title}</strong>\n                                            </h3>\n\n                                            <p>\n                                                by <a href=\"#!\" className=\"font-weight-bold\">Jessica Clark</a>\n                                            </p>\n                                            <Link to={\"/posts/\" + _id} target='_blank'>\n                                                <MDBBtn color=\"primary\" size=\"md\">\n                                                    Read Post\n                                                  </MDBBtn>\n                                            </Link>\n                                            <hr className=\"my-5\" />\n\n                                        </MDBCol>\n                                    </MDBRow>\n                                )\n                            })) : (\n                                    <p>Loading</p>\n                                )\n                            }\n\n                        </MDBCardBody>\n                    </MDBCard>\n\n\n                </React.Fragment>\n\n\n\n\n            </div>\n        );\n    }\n}\n\nexport default HomeBody\n\n"]},"metadata":{},"sourceType":"module"}